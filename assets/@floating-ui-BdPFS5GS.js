import{r as p,t as Qt}from"./react-g5bfbYYM.js";import{r as st}from"./react-dom--w3h8dI1.js";function at(){return typeof window<"u"}function Q(t){return $t(t)?(t.nodeName||"").toLowerCase():"#document"}function F(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function N(t){var e;return(e=($t(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function $t(t){return at()?t instanceof Node||t instanceof F(t).Node:!1}function T(t){return at()?t instanceof Element||t instanceof F(t).Element:!1}function V(t){return at()?t instanceof HTMLElement||t instanceof F(t).HTMLElement:!1}function Et(t){return!at()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof F(t).ShadowRoot}const Zt=new Set(["inline","contents"]);function nt(t){const{overflow:e,overflowX:o,overflowY:n,display:i}=I(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+o)&&!Zt.has(i)}const te=new Set(["table","td","th"]);function ee(t){return te.has(Q(t))}const ne=[":popover-open",":modal"];function ut(t){return ne.some(e=>{try{return t.matches(e)}catch{return!1}})}const oe=["transform","translate","scale","rotate","perspective"],ie=["transform","translate","scale","rotate","perspective","filter"],re=["paint","layout","strict","content"];function bt(t){const e=Rt(),o=T(t)?I(t):t;return oe.some(n=>o[n]?o[n]!=="none":!1)||(o.containerType?o.containerType!=="normal":!1)||!e&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!e&&(o.filter?o.filter!=="none":!1)||ie.some(n=>(o.willChange||"").includes(n))||re.some(n=>(o.contain||"").includes(n))}function se(t){let e=j(t);for(;V(e)&&!J(e);){if(bt(e))return e;if(ut(e))return null;e=j(e)}return null}function Rt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ce=new Set(["html","body","#document"]);function J(t){return ce.has(Q(t))}function I(t){return F(t).getComputedStyle(t)}function dt(t){return T(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function j(t){if(Q(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Et(t)&&t.host||N(t);return Et(e)?e.host:e}function Wt(t){const e=j(t);return J(e)?t.ownerDocument?t.ownerDocument.body:t.body:V(e)&&nt(e)?e:Wt(e)}function tt(t,e,o){var n;e===void 0&&(e=[]),o===void 0&&(o=!0);const i=Wt(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),r=F(i);if(s){const c=xt(r);return e.concat(r,r.visualViewport||[],nt(i)?i:[],c&&o?tt(c):[])}return e.concat(i,tt(i,[],o))}function xt(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function le(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:o,version:n}=e;return o+"/"+n}).join(" "):navigator.userAgent}const U=Math.min,S=Math.max,et=Math.round,it=Math.floor,W=t=>({x:t,y:t}),fe={left:"right",right:"left",bottom:"top",top:"bottom"},ae={start:"end",end:"start"};function St(t,e,o){return S(t,U(e,o))}function Z(t,e){return typeof t=="function"?t(e):t}function q(t){return t.split("-")[0]}function ot(t){return t.split("-")[1]}function Vt(t){return t==="x"?"y":"x"}function Nt(t){return t==="y"?"height":"width"}const ue=new Set(["top","bottom"]);function _(t){return ue.has(q(t))?"y":"x"}function _t(t){return Vt(_(t))}function de(t,e,o){o===void 0&&(o=!1);const n=ot(t),i=_t(t),s=Nt(i);let r=i==="x"?n===(o?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(r=ct(r)),[r,ct(r)]}function me(t){const e=ct(t);return[yt(t),e,yt(e)]}function yt(t){return t.replace(/start|end/g,e=>ae[e])}const Ot=["left","right"],Tt=["right","left"],ge=["top","bottom"],he=["bottom","top"];function pe(t,e,o){switch(t){case"top":case"bottom":return o?e?Tt:Ot:e?Ot:Tt;case"left":case"right":return e?ge:he;default:return[]}}function we(t,e,o,n){const i=ot(t);let s=pe(q(t),o==="start",n);return i&&(s=s.map(r=>r+"-"+i),e&&(s=s.concat(s.map(yt)))),s}function ct(t){return t.replace(/left|right|bottom|top/g,e=>fe[e])}function xe(t){return{top:0,right:0,bottom:0,left:0,...t}}function ye(t){return typeof t!="number"?xe(t):{top:t,right:t,bottom:t,left:t}}function lt(t){const{x:e,y:o,width:n,height:i}=t;return{width:n,height:i,top:o,left:e,right:e+n,bottom:o+i,x:e,y:o}}function Dt(t,e,o){let{reference:n,floating:i}=t;const s=_(e),r=_t(e),c=Nt(r),u=q(e),a=s==="y",l=n.x+n.width/2-i.width/2,m=n.y+n.height/2-i.height/2,g=n[c]/2-i[c]/2;let f;switch(u){case"top":f={x:l,y:n.y-i.height};break;case"bottom":f={x:l,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:m};break;case"left":f={x:n.x-i.width,y:m};break;default:f={x:n.x,y:n.y}}switch(ot(e)){case"start":f[r]-=g*(o&&a?-1:1);break;case"end":f[r]+=g*(o&&a?-1:1);break}return f}const ve=async(t,e,o)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:r}=o,c=s.filter(Boolean),u=await(r.isRTL==null?void 0:r.isRTL(e));let a=await r.getElementRects({reference:t,floating:e,strategy:i}),{x:l,y:m}=Dt(a,n,u),g=n,f={},d=0;for(let h=0;h<c.length;h++){const{name:w,fn:y}=c[h],{x:v,y:x,data:b,reset:R}=await y({x:l,y:m,initialPlacement:n,placement:g,strategy:i,middlewareData:f,rects:a,platform:r,elements:{reference:t,floating:e}});l=v??l,m=x??m,f={...f,[w]:{...f[w],...b}},R&&d<=50&&(d++,typeof R=="object"&&(R.placement&&(g=R.placement),R.rects&&(a=R.rects===!0?await r.getElementRects({reference:t,floating:e,strategy:i}):R.rects),{x:l,y:m}=Dt(a,g,u)),h=-1)}return{x:l,y:m,placement:g,strategy:i,middlewareData:f}};async function mt(t,e){var o;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:r,elements:c,strategy:u}=t,{boundary:a="clippingAncestors",rootBoundary:l="viewport",elementContext:m="floating",altBoundary:g=!1,padding:f=0}=Z(e,t),d=ye(f),w=c[g?m==="floating"?"reference":"floating":m],y=lt(await s.getClippingRect({element:(o=await(s.isElement==null?void 0:s.isElement(w)))==null||o?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:a,rootBoundary:l,strategy:u})),v=m==="floating"?{x:n,y:i,width:r.floating.width,height:r.floating.height}:r.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),b=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},R=lt(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:v,offsetParent:x,strategy:u}):v);return{top:(y.top-R.top+d.top)/b.y,bottom:(R.bottom-y.bottom+d.bottom)/b.y,left:(y.left-R.left+d.left)/b.x,right:(R.right-y.right+d.right)/b.x}}const be=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var o,n;const{placement:i,middlewareData:s,rects:r,initialPlacement:c,platform:u,elements:a}=e,{mainAxis:l=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:d="none",flipAlignment:h=!0,...w}=Z(t,e);if((o=s.arrow)!=null&&o.alignmentOffset)return{};const y=q(i),v=_(c),x=q(c)===c,b=await(u.isRTL==null?void 0:u.isRTL(a.floating)),R=g||(x||!h?[ct(c)]:me(c)),A=d!=="none";!g&&A&&R.push(...we(c,h,d,b));const E=[c,...R],D=await mt(e,w),B=[];let O=((n=s.flip)==null?void 0:n.overflows)||[];if(l&&B.push(D[y]),m){const H=de(i,r,b);B.push(D[H[0]],D[H[1]])}if(O=[...O,{placement:i,overflows:B}],!B.every(H=>H<=0)){var M,z;const H=(((M=s.flip)==null?void 0:M.index)||0)+1,X=E[H];if(X&&(!(m==="alignment"?v!==_(X):!1)||O.every(C=>C.overflows[0]>0&&_(C.placement)===v)))return{data:{index:H,overflows:O},reset:{placement:X}};let P=(z=O.filter($=>$.overflows[0]<=0).sort(($,C)=>$.overflows[1]-C.overflows[1])[0])==null?void 0:z.placement;if(!P)switch(f){case"bestFit":{var k;const $=(k=O.filter(C=>{if(A){const L=_(C.placement);return L===v||L==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(L=>L>0).reduce((L,Y)=>L+Y,0)]).sort((C,L)=>C[1]-L[1])[0])==null?void 0:k[0];$&&(P=$);break}case"initialPlacement":P=c;break}if(i!==P)return{reset:{placement:P}}}return{}}}},Re=new Set(["left","top"]);async function Ce(t,e){const{placement:o,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),r=q(o),c=ot(o),u=_(o)==="y",a=Re.has(r)?-1:1,l=s&&u?-1:1,m=Z(e,t);let{mainAxis:g,crossAxis:f,alignmentAxis:d}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof d=="number"&&(f=c==="end"?d*-1:d),u?{x:f*l,y:g*a}:{x:g*a,y:f*l}}const Ae=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var o,n;const{x:i,y:s,placement:r,middlewareData:c}=e,u=await Ce(e,t);return r===((o=c.offset)==null?void 0:o.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:r}}}}},Ee=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:o,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:r=!1,limiter:c={fn:w=>{let{x:y,y:v}=w;return{x:y,y:v}}},...u}=Z(t,e),a={x:o,y:n},l=await mt(e,u),m=_(q(i)),g=Vt(m);let f=a[g],d=a[m];if(s){const w=g==="y"?"top":"left",y=g==="y"?"bottom":"right",v=f+l[w],x=f-l[y];f=St(v,f,x)}if(r){const w=m==="y"?"top":"left",y=m==="y"?"bottom":"right",v=d+l[w],x=d-l[y];d=St(v,d,x)}const h=c.fn({...e,[g]:f,[m]:d});return{...h,data:{x:h.x-o,y:h.y-n,enabled:{[g]:s,[m]:r}}}}}},Se=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var o,n;const{placement:i,rects:s,platform:r,elements:c}=e,{apply:u=()=>{},...a}=Z(t,e),l=await mt(e,a),m=q(i),g=ot(i),f=_(i)==="y",{width:d,height:h}=s.floating;let w,y;m==="top"||m==="bottom"?(w=m,y=g===(await(r.isRTL==null?void 0:r.isRTL(c.floating))?"start":"end")?"left":"right"):(y=m,w=g==="end"?"top":"bottom");const v=h-l.top-l.bottom,x=d-l.left-l.right,b=U(h-l[w],v),R=U(d-l[y],x),A=!e.middlewareData.shift;let E=b,D=R;if((o=e.middlewareData.shift)!=null&&o.enabled.x&&(D=x),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(E=v),A&&!g){const O=S(l.left,0),M=S(l.right,0),z=S(l.top,0),k=S(l.bottom,0);f?D=d-2*(O!==0||M!==0?O+M:S(l.left,l.right)):E=h-2*(z!==0||k!==0?z+k:S(l.top,l.bottom))}await u({...e,availableWidth:D,availableHeight:E});const B=await r.getDimensions(c.floating);return d!==B.width||h!==B.height?{reset:{rects:!0}}:{}}}};function zt(t){const e=I(t);let o=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=V(t),s=i?t.offsetWidth:o,r=i?t.offsetHeight:n,c=et(o)!==s||et(n)!==r;return c&&(o=s,n=r),{width:o,height:n,$:c}}function Ct(t){return T(t)?t:t.contextElement}function G(t){const e=Ct(t);if(!V(e))return W(1);const o=e.getBoundingClientRect(),{width:n,height:i,$:s}=zt(e);let r=(s?et(o.width):o.width)/n,c=(s?et(o.height):o.height)/i;return(!r||!Number.isFinite(r))&&(r=1),(!c||!Number.isFinite(c))&&(c=1),{x:r,y:c}}const Oe=W(0);function Yt(t){const e=F(t);return!Rt()||!e.visualViewport?Oe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Te(t,e,o){return e===void 0&&(e=!1),!o||e&&o!==F(t)?!1:e}function K(t,e,o,n){e===void 0&&(e=!1),o===void 0&&(o=!1);const i=t.getBoundingClientRect(),s=Ct(t);let r=W(1);e&&(n?T(n)&&(r=G(n)):r=G(t));const c=Te(s,o,n)?Yt(s):W(0);let u=(i.left+c.x)/r.x,a=(i.top+c.y)/r.y,l=i.width/r.x,m=i.height/r.y;if(s){const g=F(s),f=n&&T(n)?F(n):n;let d=g,h=xt(d);for(;h&&n&&f!==d;){const w=G(h),y=h.getBoundingClientRect(),v=I(h),x=y.left+(h.clientLeft+parseFloat(v.paddingLeft))*w.x,b=y.top+(h.clientTop+parseFloat(v.paddingTop))*w.y;u*=w.x,a*=w.y,l*=w.x,m*=w.y,u+=x,a+=b,d=F(h),h=xt(d)}}return lt({width:l,height:m,x:u,y:a})}function At(t,e){const o=dt(t).scrollLeft;return e?e.left+o:K(N(t)).left+o}function jt(t,e,o){o===void 0&&(o=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(o?0:At(t,n)),s=n.top+e.scrollTop;return{x:i,y:s}}function De(t){let{elements:e,rect:o,offsetParent:n,strategy:i}=t;const s=i==="fixed",r=N(n),c=e?ut(e.floating):!1;if(n===r||c&&s)return o;let u={scrollLeft:0,scrollTop:0},a=W(1);const l=W(0),m=V(n);if((m||!m&&!s)&&((Q(n)!=="body"||nt(r))&&(u=dt(n)),V(n))){const f=K(n);a=G(n),l.x=f.x+n.clientLeft,l.y=f.y+n.clientTop}const g=r&&!m&&!s?jt(r,u,!0):W(0);return{width:o.width*a.x,height:o.height*a.y,x:o.x*a.x-u.scrollLeft*a.x+l.x+g.x,y:o.y*a.y-u.scrollTop*a.y+l.y+g.y}}function Me(t){return Array.from(t.getClientRects())}function Pe(t){const e=N(t),o=dt(t),n=t.ownerDocument.body,i=S(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=S(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let r=-o.scrollLeft+At(t);const c=-o.scrollTop;return I(n).direction==="rtl"&&(r+=S(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:r,y:c}}function Le(t,e){const o=F(t),n=N(t),i=o.visualViewport;let s=n.clientWidth,r=n.clientHeight,c=0,u=0;if(i){s=i.width,r=i.height;const a=Rt();(!a||a&&e==="fixed")&&(c=i.offsetLeft,u=i.offsetTop)}return{width:s,height:r,x:c,y:u}}const Fe=new Set(["absolute","fixed"]);function ke(t,e){const o=K(t,!0,e==="fixed"),n=o.top+t.clientTop,i=o.left+t.clientLeft,s=V(t)?G(t):W(1),r=t.clientWidth*s.x,c=t.clientHeight*s.y,u=i*s.x,a=n*s.y;return{width:r,height:c,x:u,y:a}}function Mt(t,e,o){let n;if(e==="viewport")n=Le(t,o);else if(e==="document")n=Pe(N(t));else if(T(e))n=ke(e,o);else{const i=Yt(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return lt(n)}function qt(t,e){const o=j(t);return o===e||!T(o)||J(o)?!1:I(o).position==="fixed"||qt(o,e)}function He(t,e){const o=e.get(t);if(o)return o;let n=tt(t,[],!1).filter(c=>T(c)&&Q(c)!=="body"),i=null;const s=I(t).position==="fixed";let r=s?j(t):t;for(;T(r)&&!J(r);){const c=I(r),u=bt(r);!u&&c.position==="fixed"&&(i=null),(s?!u&&!i:!u&&c.position==="static"&&!!i&&Fe.has(i.position)||nt(r)&&!u&&qt(t,r))?n=n.filter(l=>l!==r):i=c,r=j(r)}return e.set(t,n),n}function Ie(t){let{element:e,boundary:o,rootBoundary:n,strategy:i}=t;const r=[...o==="clippingAncestors"?ut(e)?[]:He(e,this._c):[].concat(o),n],c=r[0],u=r.reduce((a,l)=>{const m=Mt(e,l,i);return a.top=S(m.top,a.top),a.right=U(m.right,a.right),a.bottom=U(m.bottom,a.bottom),a.left=S(m.left,a.left),a},Mt(e,c,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Be(t){const{width:e,height:o}=zt(t);return{width:e,height:o}}function $e(t,e,o){const n=V(e),i=N(e),s=o==="fixed",r=K(t,!0,s,e);let c={scrollLeft:0,scrollTop:0};const u=W(0);function a(){u.x=At(i)}if(n||!n&&!s)if((Q(e)!=="body"||nt(i))&&(c=dt(e)),n){const f=K(e,!0,s,e);u.x=f.x+e.clientLeft,u.y=f.y+e.clientTop}else i&&a();s&&!n&&i&&a();const l=i&&!n&&!s?jt(i,c):W(0),m=r.left+c.scrollLeft-u.x-l.x,g=r.top+c.scrollTop-u.y-l.y;return{x:m,y:g,width:r.width,height:r.height}}function gt(t){return I(t).position==="static"}function Pt(t,e){if(!V(t)||I(t).position==="fixed")return null;if(e)return e(t);let o=t.offsetParent;return N(t)===o&&(o=o.ownerDocument.body),o}function Ut(t,e){const o=F(t);if(ut(t))return o;if(!V(t)){let i=j(t);for(;i&&!J(i);){if(T(i)&&!gt(i))return i;i=j(i)}return o}let n=Pt(t,e);for(;n&&ee(n)&&gt(n);)n=Pt(n,e);return n&&J(n)&&gt(n)&&!bt(n)?o:n||se(t)||o}const We=async function(t){const e=this.getOffsetParent||Ut,o=this.getDimensions,n=await o(t.floating);return{reference:$e(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Ve(t){return I(t).direction==="rtl"}const Ne={convertOffsetParentRelativeRectToViewportRelativeRect:De,getDocumentElement:N,getClippingRect:Ie,getOffsetParent:Ut,getElementRects:We,getClientRects:Me,getDimensions:Be,getScale:G,isElement:T,isRTL:Ve};function Kt(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function _e(t,e){let o=null,n;const i=N(t);function s(){var c;clearTimeout(n),(c=o)==null||c.disconnect(),o=null}function r(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),s();const a=t.getBoundingClientRect(),{left:l,top:m,width:g,height:f}=a;if(c||e(),!g||!f)return;const d=it(m),h=it(i.clientWidth-(l+g)),w=it(i.clientHeight-(m+f)),y=it(l),x={rootMargin:-d+"px "+-h+"px "+-w+"px "+-y+"px",threshold:S(0,U(1,u))||1};let b=!0;function R(A){const E=A[0].intersectionRatio;if(E!==u){if(!b)return r();E?r(!1,E):n=setTimeout(()=>{r(!1,1e-7)},1e3)}E===1&&!Kt(a,t.getBoundingClientRect())&&r(),b=!1}try{o=new IntersectionObserver(R,{...x,root:i.ownerDocument})}catch{o=new IntersectionObserver(R,x)}o.observe(t)}return r(!0),s}function gn(t,e,o,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:r=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,a=Ct(t),l=i||s?[...a?tt(a):[],...tt(e)]:[];l.forEach(y=>{i&&y.addEventListener("scroll",o,{passive:!0}),s&&y.addEventListener("resize",o)});const m=a&&c?_e(a,o):null;let g=-1,f=null;r&&(f=new ResizeObserver(y=>{let[v]=y;v&&v.target===a&&f&&(f.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var x;(x=f)==null||x.observe(e)})),o()}),a&&!u&&f.observe(a),f.observe(e));let d,h=u?K(t):null;u&&w();function w(){const y=K(t);h&&!Kt(h,y)&&o(),h=y,d=requestAnimationFrame(w)}return o(),()=>{var y;l.forEach(v=>{i&&v.removeEventListener("scroll",o),s&&v.removeEventListener("resize",o)}),m?.(),(y=f)==null||y.disconnect(),f=null,u&&cancelAnimationFrame(d)}}const ht=mt,ze=Ae,Ye=Ee,je=be,qe=Se,Ue=(t,e,o)=>{const n=new Map,i={platform:Ne,...o},s={...i.platform,_c:n};return ve(t,e,{...i,platform:s})};var Ke=typeof document<"u",Xe=function(){},rt=Ke?p.useLayoutEffect:Xe;function ft(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let o,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(o=t.length,o!==e.length)return!1;for(n=o;n--!==0;)if(!ft(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),o=i.length,o!==Object.keys(e).length)return!1;for(n=o;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=o;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!ft(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function Xt(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Lt(t,e){const o=Xt(t);return Math.round(e*o)/o}function pt(t){const e=p.useRef(t);return rt(()=>{e.current=t}),e}function Ge(t){t===void 0&&(t={});const{placement:e="bottom",strategy:o="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:r}={},transform:c=!0,whileElementsMounted:u,open:a}=t,[l,m]=p.useState({x:0,y:0,strategy:o,placement:e,middlewareData:{},isPositioned:!1}),[g,f]=p.useState(n);ft(g,n)||f(n);const[d,h]=p.useState(null),[w,y]=p.useState(null),v=p.useCallback(C=>{C!==A.current&&(A.current=C,h(C))},[]),x=p.useCallback(C=>{C!==E.current&&(E.current=C,y(C))},[]),b=s||d,R=r||w,A=p.useRef(null),E=p.useRef(null),D=p.useRef(l),B=u!=null,O=pt(u),M=pt(i),z=pt(a),k=p.useCallback(()=>{if(!A.current||!E.current)return;const C={placement:e,strategy:o,middleware:g};M.current&&(C.platform=M.current),Ue(A.current,E.current,C).then(L=>{const Y={...L,isPositioned:z.current!==!1};H.current&&!ft(D.current,Y)&&(D.current=Y,st.flushSync(()=>{m(Y)}))})},[g,e,o,M,z]);rt(()=>{a===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,m(C=>({...C,isPositioned:!1})))},[a]);const H=p.useRef(!1);rt(()=>(H.current=!0,()=>{H.current=!1}),[]),rt(()=>{if(b&&(A.current=b),R&&(E.current=R),b&&R){if(O.current)return O.current(b,R,k);k()}},[b,R,k,O,B]);const X=p.useMemo(()=>({reference:A,floating:E,setReference:v,setFloating:x}),[v,x]),P=p.useMemo(()=>({reference:b,floating:R}),[b,R]),$=p.useMemo(()=>{const C={position:o,left:0,top:0};if(!P.floating)return C;const L=Lt(P.floating,l.x),Y=Lt(P.floating,l.y);return c?{...C,transform:"translate("+L+"px, "+Y+"px)",...Xt(P.floating)>=1.5&&{willChange:"transform"}}:{position:o,left:L,top:Y}},[o,c,P.floating,l.x,l.y]);return p.useMemo(()=>({...l,update:k,refs:X,elements:P,floatingStyles:$}),[l,k,X,P,$])}const Je=(t,e)=>({...ze(t),options:[t,e]}),hn=(t,e)=>({...Ye(t),options:[t,e]}),pn=(t,e)=>({...je(t),options:[t,e]}),wn=(t,e)=>({...qe(t),options:[t,e]}),Gt={...Qt},Qe=Gt.useInsertionEffect,Ze=Qe||(t=>t());function Jt(t){const e=p.useRef(()=>{});return Ze(()=>{e.current=t}),p.useCallback(function(){for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}var vt=typeof document<"u"?p.useLayoutEffect:p.useEffect;let Ft=!1,tn=0;const kt=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+tn++;function en(){const[t,e]=p.useState(()=>Ft?kt():void 0);return vt(()=>{t==null&&e(kt())},[]),p.useEffect(()=>{Ft=!0},[]),t}const nn=Gt.useId,on=nn||en;function rn(){const t=new Map;return{emit(e,o){var n;(n=t.get(e))==null||n.forEach(i=>i(o))},on(e,o){t.set(e,[...t.get(e)||[],o])},off(e,o){var n;t.set(e,((n=t.get(e))==null?void 0:n.filter(i=>i!==o))||[])}}}const sn=p.createContext(null),cn=p.createContext(null),ln=()=>{var t;return((t=p.useContext(sn))==null?void 0:t.id)||null},fn=()=>p.useContext(cn),an="data-floating-ui-focusable";function un(t){const{open:e=!1,onOpenChange:o,elements:n}=t,i=on(),s=p.useRef({}),[r]=p.useState(()=>rn()),c=ln()!=null,[u,a]=p.useState(n.reference),l=Jt((f,d,h)=>{s.current.openEvent=f?d:void 0,r.emit("openchange",{open:f,event:d,reason:h,nested:c}),o?.(f,d,h)}),m=p.useMemo(()=>({setPositionReference:a}),[]),g=p.useMemo(()=>({reference:u||n.reference||null,floating:n.floating||null,domReference:n.reference}),[u,n.reference,n.floating]);return p.useMemo(()=>({dataRef:s,open:e,onOpenChange:l,elements:g,events:r,floatingId:i,refs:m}),[e,l,g,r,i,m])}function xn(t){t===void 0&&(t={});const{nodeId:e}=t,o=un({...t,elements:{reference:null,floating:null,...t.elements}}),n=t.rootContext||o,i=n.elements,[s,r]=p.useState(null),[c,u]=p.useState(null),l=i?.domReference||s,m=p.useRef(null),g=fn();vt(()=>{l&&(m.current=l)},[l]);const f=Ge({...t,elements:{...i,...c&&{reference:c}}}),d=p.useCallback(x=>{const b=T(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),contextElement:x}:x;u(b),f.refs.setReference(b)},[f.refs]),h=p.useCallback(x=>{(T(x)||x===null)&&(m.current=x,r(x)),(T(f.refs.reference.current)||f.refs.reference.current===null||x!==null&&!T(x))&&f.refs.setReference(x)},[f.refs]),w=p.useMemo(()=>({...f.refs,setReference:h,setPositionReference:d,domReference:m}),[f.refs,h,d]),y=p.useMemo(()=>({...f.elements,domReference:l}),[f.elements,l]),v=p.useMemo(()=>({...f,...n,refs:w,elements:y,nodeId:e}),[f,w,y,e,n]);return vt(()=>{n.dataRef.current.floatingContext=v;const x=g?.nodesRef.current.find(b=>b.id===e);x&&(x.context=v)}),p.useMemo(()=>({...f,context:v,refs:w,elements:y}),[f,w,y,v])}const Ht="active",It="selected";function wt(t,e,o){const n=new Map,i=o==="item";let s=t;if(i&&t){const{[Ht]:r,[It]:c,...u}=t;s=u}return{...o==="floating"&&{tabIndex:-1,[an]:""},...s,...e.map(r=>{const c=r?r[o]:null;return typeof c=="function"?t?c(t):null:c}).concat(t).reduce((r,c)=>(c&&Object.entries(c).forEach(u=>{let[a,l]=u;if(!(i&&[Ht,It].includes(a)))if(a.indexOf("on")===0){if(n.has(a)||n.set(a,[]),typeof l=="function"){var m;(m=n.get(a))==null||m.push(l),r[a]=function(){for(var g,f=arguments.length,d=new Array(f),h=0;h<f;h++)d[h]=arguments[h];return(g=n.get(a))==null?void 0:g.map(w=>w(...d)).find(w=>w!==void 0)}}}else r[a]=l}),r),{})}}function yn(t){t===void 0&&(t=[]);const e=t.map(c=>c?.reference),o=t.map(c=>c?.floating),n=t.map(c=>c?.item),i=p.useCallback(c=>wt(c,t,"reference"),e),s=p.useCallback(c=>wt(c,t,"floating"),o),r=p.useCallback(c=>wt(c,t,"item"),n);return p.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:r}),[i,s,r])}function Bt(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const vn=t=>({name:"inner",options:t,async fn(e){const{listRef:o,overflowRef:n,onFallbackChange:i,offset:s=0,index:r=0,minItemsVisible:c=4,referenceOverflowThreshold:u=0,scrollRef:a,...l}=Z(t,e),{rects:m,elements:{floating:g}}=e,f=o.current[r],d=a?.current||g,h=g.clientTop||d.clientTop,w=g.clientTop!==0,y=d.clientTop!==0,v=g===d;if(!f)return{};const x={...e,...await Je(-f.offsetTop-g.clientTop-m.reference.height/2-f.offsetHeight/2-s).fn(e)},b=await ht(Bt(x,d.scrollHeight+h+g.clientTop),l),R=await ht(x,{...l,elementContext:"reference"}),A=S(0,b.top),E=x.y+A,O=(d.scrollHeight>d.clientHeight?M=>M:et)(S(0,d.scrollHeight+(w&&v||y?h*2:0)-A-S(0,b.bottom)));if(d.style.maxHeight=O+"px",d.scrollTop=A,i){const M=d.offsetHeight<f.offsetHeight*U(c,o.current.length)-1||R.top>=-u||R.bottom>=-u;st.flushSync(()=>i(M))}return n&&(n.current=await ht(Bt({...x,y:E},d.offsetHeight+h+g.clientTop),l)),{y:E}}});function bn(t,e){const{open:o,elements:n}=t,{enabled:i=!0,overflowRef:s,scrollRef:r,onChange:c}=e,u=Jt(c),a=p.useRef(!1),l=p.useRef(null),m=p.useRef(null);p.useEffect(()=>{if(!i)return;function f(h){if(h.ctrlKey||!d||s.current==null)return;const w=h.deltaY,y=s.current.top>=-.5,v=s.current.bottom>=-.5,x=d.scrollHeight-d.clientHeight,b=w<0?-1:1,R=w<0?"max":"min";d.scrollHeight<=d.clientHeight||(!y&&w>0||!v&&w<0?(h.preventDefault(),st.flushSync(()=>{u(A=>A+Math[R](w,x*b))})):/firefox/i.test(le())&&(d.scrollTop+=w))}const d=r?.current||n.floating;if(o&&d)return d.addEventListener("wheel",f),requestAnimationFrame(()=>{l.current=d.scrollTop,s.current!=null&&(m.current={...s.current})}),()=>{l.current=null,m.current=null,d.removeEventListener("wheel",f)}},[i,o,n.floating,s,r,u]);const g=p.useMemo(()=>({onKeyDown(){a.current=!0},onWheel(){a.current=!1},onPointerMove(){a.current=!1},onScroll(){const f=r?.current||n.floating;if(!(!s.current||!f||!a.current)){if(l.current!==null){const d=f.scrollTop-l.current;(s.current.bottom<-.5&&d<-1||s.current.top<-.5&&d>1)&&st.flushSync(()=>u(h=>h+d))}requestAnimationFrame(()=>{l.current=f.scrollTop})}}}),[n.floating,u,s,r]);return p.useMemo(()=>i?{floating:g}:{},[i,g])}export{wn as a,bn as b,yn as c,gn as d,pn as f,vn as i,Je as o,hn as s,xn as u};
