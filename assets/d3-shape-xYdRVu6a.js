import{P as J}from"./d3-path-CimkQT29.js";function l(t){return function(){return t}}function M(t){let n=3;return t.digits=function(i){if(!arguments.length)return n;if(i==null)n=null;else{const o=Math.floor(i);if(!(o>=0))throw new RangeError(`invalid digits: ${i}`);n=o}return t},()=>new J(n)}function P(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function L(t){this._context=t}L.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function X(t){return new L(t)}function Y(t){return t[0]}function R(t){return t[1]}function K(t,n){var i=l(!0),o=null,s=X,e=null,u=M(h);t=typeof t=="function"?t:t===void 0?Y:l(t),n=typeof n=="function"?n:n===void 0?R:l(n);function h(_){var c,a=(_=P(_)).length,r,f=!1,p;for(o==null&&(e=s(p=u())),c=0;c<=a;++c)!(c<a&&i(r=_[c],c,_))===f&&((f=!f)?e.lineStart():e.lineEnd()),f&&e.point(+t(r,c,_),+n(r,c,_));if(p)return e=null,p+""||null}return h.x=function(_){return arguments.length?(t=typeof _=="function"?_:l(+_),h):t},h.y=function(_){return arguments.length?(n=typeof _=="function"?_:l(+_),h):n},h.defined=function(_){return arguments.length?(i=typeof _=="function"?_:l(!!_),h):i},h.curve=function(_){return arguments.length?(s=_,o!=null&&(e=s(o)),h):s},h.context=function(_){return arguments.length?(_==null?o=e=null:e=s(o=_),h):o},h}function $(t,n,i){var o=null,s=l(!0),e=null,u=X,h=null,_=M(c);t=typeof t=="function"?t:t===void 0?Y:l(+t),n=typeof n=="function"?n:l(n===void 0?0:+n),i=typeof i=="function"?i:i===void 0?R:l(+i);function c(r){var f,p,x,g=(r=P(r)).length,v,d=!1,w,N=new Array(g),S=new Array(g);for(e==null&&(h=u(w=_())),f=0;f<=g;++f){if(!(f<g&&s(v=r[f],f,r))===d)if(d=!d)p=f,h.areaStart(),h.lineStart();else{for(h.lineEnd(),h.lineStart(),x=f-1;x>=p;--x)h.point(N[x],S[x]);h.lineEnd(),h.areaEnd()}d&&(N[f]=+t(v,f,r),S[f]=+n(v,f,r),h.point(o?+o(v,f,r):N[f],i?+i(v,f,r):S[f]))}if(w)return h=null,w+""||null}function a(){return K().defined(s).curve(u).context(e)}return c.x=function(r){return arguments.length?(t=typeof r=="function"?r:l(+r),o=null,c):t},c.x0=function(r){return arguments.length?(t=typeof r=="function"?r:l(+r),c):t},c.x1=function(r){return arguments.length?(o=r==null?null:typeof r=="function"?r:l(+r),c):o},c.y=function(r){return arguments.length?(n=typeof r=="function"?r:l(+r),i=null,c):n},c.y0=function(r){return arguments.length?(n=typeof r=="function"?r:l(+r),c):n},c.y1=function(r){return arguments.length?(i=r==null?null:typeof r=="function"?r:l(+r),c):i},c.lineX0=c.lineY0=function(){return a().x(t).y(n)},c.lineY1=function(){return a().x(t).y(i)},c.lineX1=function(){return a().x(o).y(n)},c.defined=function(r){return arguments.length?(s=typeof r=="function"?r:l(!!r),c):s},c.curve=function(r){return arguments.length?(u=r,e!=null&&(h=u(e)),c):u},c.context=function(r){return arguments.length?(r==null?e=h=null:h=u(e=r),c):e},c}class q{constructor(n,i){this._context=n,this._x=i}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(n,i){switch(n=+n,i=+i,this._point){case 0:{this._point=1,this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+n)/2,this._y0,this._x0,i,n,i):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+i)/2,n,this._y0,n,i);break}}this._x0=n,this._y0=i}}function j(t){return new q(t,!0)}function tt(t){return new q(t,!1)}function m(){}function b(t,n,i){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+i)/6)}function V(t){this._context=t}V.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:b(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:b(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function nt(t){return new V(t)}function W(t){this._context=t}W.prototype={areaStart:m,areaEnd:m,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:b(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function it(t){return new W(t)}function D(t){this._context=t}D.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+t)/6,o=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(i,o):this._context.moveTo(i,o);break;case 3:this._point=4;default:b(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function et(t){return new D(t)}function F(t){this._context=t}F.prototype={areaStart:m,areaEnd:m,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};function ot(t){return new F(t)}function A(t){return t<0?-1:1}function C(t,n,i){var o=t._x1-t._x0,s=n-t._x1,e=(t._y1-t._y0)/(o||s<0&&-0),u=(i-t._y1)/(s||o<0&&-0),h=(e*s+u*o)/(o+s);return(A(e)+A(u))*Math.min(Math.abs(e),Math.abs(u),.5*Math.abs(h))||0}function z(t,n){var i=t._x1-t._x0;return i?(3*(t._y1-t._y0)/i-n)/2:n}function E(t,n,i){var o=t._x0,s=t._y0,e=t._x1,u=t._y1,h=(e-o)/3;t._context.bezierCurveTo(o+h,s+h*n,e-h,u-h*i,e,u)}function T(t){this._context=t}T.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:E(this,this._t0,z(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var i=NaN;if(t=+t,n=+n,!(t===this._x1&&n===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,E(this,z(this,i=C(this,t,n)),i);break;default:E(this,this._t0,i=C(this,t,n));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=i}}};function G(t){this._context=new H(t)}(G.prototype=Object.create(T.prototype)).point=function(t,n){T.prototype.point.call(this,n,t)};function H(t){this._context=t}H.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,i,o,s,e){this._context.bezierCurveTo(n,t,o,i,e,s)}};function st(t){return new T(t)}function ht(t){return new G(t)}function I(t){this._context=t}I.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,i=t.length;if(i)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),i===2)this._context.lineTo(t[1],n[1]);else for(var o=B(t),s=B(n),e=0,u=1;u<i;++e,++u)this._context.bezierCurveTo(o[0][e],s[0][e],o[1][e],s[1][e],t[u],n[u]);(this._line||this._line!==0&&i===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};function B(t){var n,i=t.length-1,o,s=new Array(i),e=new Array(i),u=new Array(i);for(s[0]=0,e[0]=2,u[0]=t[0]+2*t[1],n=1;n<i-1;++n)s[n]=1,e[n]=4,u[n]=4*t[n]+2*t[n+1];for(s[i-1]=2,e[i-1]=7,u[i-1]=8*t[i-1]+t[i],n=1;n<i;++n)o=s[n]/e[n-1],e[n]-=o,u[n]-=o*u[n-1];for(s[i-1]=u[i-1]/e[i-1],n=i-2;n>=0;--n)s[n]=(u[n]-s[n+1])/e[n];for(e[i-1]=(t[i]+s[i-1])/2,n=0;n<i-1;++n)e[n]=2*t[n+1]-s[n+1];return[s,e]}function rt(t){return new I(t)}function k(t,n){this._context=t,this._t=n}k.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var i=this._x*(1-this._t)+t*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,n)}break}}this._x=t,this._y=n}};function ut(t){return new k(t,.5)}function ct(t){return new k(t,0)}function _t(t){return new k(t,1)}function y(t,n){if((u=t.length)>1)for(var i=1,o,s,e=t[n[0]],u,h=e.length;i<u;++i)for(s=e,e=t[n[i]],o=0;o<h;++o)e[o][1]+=e[o][0]=isNaN(s[o][1])?s[o][0]:s[o][1]}function O(t){for(var n=t.length,i=new Array(n);--n>=0;)i[n]=n;return i}function Q(t,n){return t[n]}function U(t){const n=[];return n.key=t,n}function ft(){var t=l([]),n=O,i=y,o=Q;function s(e){var u=Array.from(t.apply(this,arguments),U),h,_=u.length,c=-1,a;for(const r of e)for(h=0,++c;h<_;++h)(u[h][c]=[0,+o(r,u[h].key,c,e)]).data=r;for(h=0,a=P(n(u));h<_;++h)u[a[h]].index=h;return i(u,a),u}return s.keys=function(e){return arguments.length?(t=typeof e=="function"?e:l(Array.from(e)),s):t},s.value=function(e){return arguments.length?(o=typeof e=="function"?e:l(+e),s):o},s.order=function(e){return arguments.length?(n=e==null?O:typeof e=="function"?e:l(Array.from(e)),s):n},s.offset=function(e){return arguments.length?(i=e??y,s):i},s}function lt(t,n){if((o=t.length)>0){for(var i,o,s=0,e=t[0].length,u;s<e;++s){for(u=i=0;i<o;++i)u+=t[i][s][1]||0;if(u)for(i=0;i<o;++i)t[i][s][1]/=u}y(t,n)}}function at(t,n){if((s=t.length)>0){for(var i=0,o=t[n[0]],s,e=o.length;i<e;++i){for(var u=0,h=0;u<s;++u)h+=t[u][i][1]||0;o[i][1]+=o[i][0]=-h/2}y(t,n)}}function pt(t,n){if(!(!((u=t.length)>0)||!((e=(s=t[n[0]]).length)>0))){for(var i=0,o=1,s,e,u;o<e;++o){for(var h=0,_=0,c=0;h<u;++h){for(var a=t[n[h]],r=a[o][1]||0,f=a[o-1][1]||0,p=(r-f)/2,x=0;x<h;++x){var g=t[n[x]],v=g[o][1]||0,d=g[o-1][1]||0;p+=v-d}_+=r,c+=p*r}s[o-1][1]+=s[o-1][0]=i,_&&(i-=c/_)}s[o-1][1]+=s[o-1][0]=i,y(t,n)}}export{O as a,pt as b,at as c,y as d,lt as e,$ as f,K as g,ct as h,_t as i,ut as j,rt as k,st as l,ht as m,X as n,ot as o,tt as p,j as q,nt as r,ft as s,et as t,it as u};
